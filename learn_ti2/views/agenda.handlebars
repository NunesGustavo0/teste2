<nav class="top-nav">
    <ul>
        <li><a href="/home"><i class="fas fa-home"></i> Home</a></li>
        <li><a href="/disciplina" class="{{#ifEq currentPath '/disciplina'}}active{{/ifEq}}"><i class="fas fa-book"></i> Disciplinas</a></li>
        <li><a href="/agenda" class="{{#ifEq currentPath '/agenda'}}active{{/ifEq}}"><i class="fas fa-calendar-alt"></i> Agenda</a></li>
        <li><a href="/boletim" class="{{#ifEq currentPath '/boletim'}}active{{/ifEq}}"><i class="fas fa-chart-bar"></i> Boletim</a></li>
    </ul>
</nav>

{{!-- Conteúdo Principal - Agenda --}}
<main class="agenda-container">
    <div class="agenda-header">
        <h1>Agenda</h1>
        <div class="current-date" id="currentDate"></div> {{!-- Será preenchido por JS --}}
    </div>

    <div class="agenda-content">
        <!-- Seção do Calendário -->
        <div class="calendar-section">
            <div class="calendar-controls">
                <button class="calendar-nav" onclick="prevMonth()"><i class="fas fa-chevron-left"></i></button>
                <div class="calendar-month" id="calendarMonth"></div> {{!-- Será preenchido por JS --}}
                <button class="calendar-nav" onclick="nextMonth()"><i class="fas fa-chevron-right"></i></button>
            </div>

            <div class="calendar-grid">
                <div class="calendar-weekdays">
                    <div>Dom</div>
                    <div>Seg</div>
                    <div>Ter</div>
                    <div>Qua</div>
                    <div>Qui</div>
                    <div>Sex</div>
                    <div>Sáb</div>
                </div>

                <div class="calendar-days" id="calendarDays">
                    {{!-- Dias serão preenchidos via JavaScript --}}
                </div>
            </div>
        </div>

        <!-- Seção de Tarefas -->
        <div class="tasks-section">
            <div class="tasks-header">
                <h2>Tarefas do Dia</h2>
                <button class="add-task" onclick="openTaskForm()">
                    <i class="fas fa-plus"></i> Nova Tarefa
                </button>
            </div>

            <div class="tasks-list" id="tasksList">
                {{!-- Tarefas serão carregadas dinamicamente via JavaScript --}}
                <p id="noTasksMessage" style="text-align: center; color: #666; margin-top: 20px; display: none;">Nenhuma tarefa para este dia.</p>
            </div>
        </div>
    </div>
</main>

<!-- Modal para nova tarefa -->
<div id="taskModal" class="modal">
    <div class="modal-content">
        <span class="close-modal" onclick="closeTaskForm()">&times;</span>
        <h2>Adicionar Nova Tarefa</h2>
        <form id="taskForm">
            <div class="form-group">
                <label for="taskDate">Data:</label>
                <input type="date" id="taskDate" required> {{!-- Campo de data adicionado --}}
            </div>
            <div class="form-group">
                <label for="taskTime">Horário:</label>
                <input type="time" id="taskTime" required>
            </div>
            <div class="form-group">
                <label for="taskTitle">Título:</label>
                <input type="text" id="taskTitle" required>
            </div>
            <div class="form-group">
                <label for="taskDiscipline">Disciplina:</label>
                <input type="text" id="taskDiscipline" required>
            </div>
            <button type="submit" class="submit-task">Salvar Tarefa</button>
        </form>
    </div>
</div>

<!-- Modal de Confirmação de Exclusão (Novo) -->
<div id="confirmModal" class="modal">
    <div class="modal-content">
        <h2>Confirmar Exclusão</h2>
        <p>Tem certeza que deseja excluir esta tarefa?</p>
        <div class="modal-actions">
            <button class="submit-task" id="confirmDeleteBtn">Excluir</button>
            <button class="add-task" onclick="closeConfirmModal()">Cancelar</button>
        </div>
    </div>
</div>

{{!-- Os scripts userMenu.js e notification.js são incluídos no main.handlebars --}}
{{!-- Link para o script específico da agenda --}}
<script src="/js/agenda.js"></script>